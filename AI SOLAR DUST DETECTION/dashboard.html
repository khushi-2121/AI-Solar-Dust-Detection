<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>AI Solar Dashboard</title>

<style>
body{
  margin:0;
  font-family:Segoe UI;
  background:#eef4ff;
}

/* HEADER (SAME AS INDEX) */
header{
  background:#0b3c91;
  color:#fff;
  padding:20px 40px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  position:sticky;
  top:0;
  box-shadow:0 2px 8px rgba(0,0,0,.3);
}
header h2{margin:0}
nav a{
  color:#fff;
  margin-left:20px;
  text-decoration:none;
}
nav a:hover{color:#ffd700}

/* INFO BAR */
.info-bar{
  display:flex;
  gap:20px;
  padding:15px 40px;
  background:#fff;
  font-weight:500;
}

/* HERO */
.hero{
  background:linear-gradient(rgba(0,0,0,.55),rgba(0,0,0,.55)),
  url("https://tse1.mm.bing.net/th/id/OIP.jTHPsbT9jQJOnQnLh3WWDQHaE8?pid=Api");
  background-size:cover;
  color:#fff;
  text-align:center;
  padding:60px;
}

/* DASHBOARD */
.dashboard{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(250px,1fr));
  gap:25px;
  padding:50px;
}

.card{
  background:#fff;
  border-radius:15px;
  padding:25px;
  box-shadow:0 6px 15px rgba(0,0,0,.15);
  text-align:center;
}
.card h3{color:#0b3c91}
.big{font-size:30px;font-weight:700}

.status{
  padding:10px;
  border-radius:10px;
  color:#fff;
}
.green{background:#27ae60}
.red{background:#c0392b}
.blue{background:#0b3c91}

footer{
  background:#0b3c91;
  color:#fff;
  text-align:center;
  padding:20px;
}
</style>
</head>

<body>

<header>
  <h2>AI Solar Monitoring</h2>
  <nav>
    <a href="index.html">Home</a>
    <a href="dashboard.html">Dashboard</a>
    <a href="about.html">About</a>
    <a href="contact.html">Contact</a>
  </nav>
</header>

<!-- INFO BAR SAME AS INDEX -->
<div class="info-bar">
  <span id="location">üìç --</span>
  <span id="temperature">üå°Ô∏è -- ¬∞C</span>
  <span>‚ö° Energy: <b id="energy">-- kWh</b></span>
</div>

<section class="hero">
  <h1>Live Solar Dashboard ‚òÄÔ∏è</h1>
  <p>Connected with Home Page</p>
</section>

<section class="dashboard">

  <div class="card">
    <h3>üìç Location</h3>
    <div class="big" id="locBig">--</div>
  </div>

  <div class="card">
    <h3>üå°Ô∏è Live Temperature</h3>
    <div class="big" id="tempBig">-- ¬∞C</div>
    <small>Auto refresh</small>
  </div>

  <div class="card">
    <h3>‚ö° Energy Generated</h3>
    <div class="big" id="energyBig">-- kWh</div>
  </div>

  <div class="card">
    <h3>üìâ Energy Loss</h3>
    <div class="big" id="loss">-- kWh</div>
  </div>

  <div class="card">
    <h3>üßπ Cleaning Status</h3>
    <div id="cleaning" class="status blue">--</div>
  </div>

  <div class="card">
    <h3>üì° Detector</h3>
    <div id="detector" class="status red">Inactive</div>
  </div>

</section>

<footer>¬© 2025 AI Solar Monitoring</footer>

<script>
const apiKey = "YOUR_OPENWEATHER_API_KEY";

const city = localStorage.getItem("city");
const lat = localStorage.getItem("lat");
const lon = localStorage.getItem("lon");

document.getElementById("location").innerText = "üìç " + (city || "Not Selected");
document.getElementById("locBig").innerText = city || "--";

async function loadTemp(){
  if(!lat || !lon) return;

  const res = await fetch(
    `https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&units=metric&appid=${apiKey}`
  );
  const data = await res.json();

  const t = data.main.temp.toFixed(1);
  document.getElementById("temperature").innerText = "üå°Ô∏è " + t + " ¬∞C";
  document.getElementById("tempBig").innerText = t + " ¬∞C";
}

loadTemp();
setInterval(loadTemp,30000);

/* ENERGY */
let energy = localStorage.getItem("todayEnergy") || (Math.random()*6+10).toFixed(2);
document.getElementById("energy").innerText = energy;
document.getElementById("energyBig").innerText = energy + " kWh";

document.getElementById("loss").innerText = (Math.random()*2).toFixed(2)+" kWh";

/* STATUS */
document.getElementById("cleaning").innerText =
  localStorage.getItem("cleaningStatus") || "Idle";
</script>

</body>
</html>
